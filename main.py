This is the abbas version of main.py (all rights reserved)